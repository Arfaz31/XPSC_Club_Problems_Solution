#include <bits/stdc++.h>
using namespace std;

int main()
{
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    int t;
    cin >> t;
    while (t--)
    {
        int n;
        cin >> n;
        map<int, int> cnt;
        for (int i = 1; i <= n; i++)
        {
            int x;
            cin >> x;
            cnt[x]++;
        }
        priority_queue<int> pq;
        for (auto [x, y] : cnt)
        {
            pq.push(y);
        }

        while (!pq.empty())
        {
            if (pq.size() < 2)
            {
                break;
            }
            int x, y;
            x = pq.top();
            pq.pop();
            y = pq.top();
            pq.pop();
            x--;
            y--;
            if (x >= 1)
            {
                pq.push(x);
            }
            if (y >= 1)
            {
                pq.push(y);
            }
        }
        int ans = 0;
        while (!pq.empty())
        {
            ans += pq.top();
            pq.pop();
        }
        cout << ans << "\n";
    }

    // solutin-2
    //  while (t--)
    //  {
    //      int n;
    //      cin >> n;
    //      vector<int> a(n);
    //      for (int i = 0; i < n; i++)
    //          cin >> a[i];
    //      //  count frequency using map
    //      map<int, int> freq;
    //      for (int x : a)
    //          freq[x]++;
    //      // find maximum frequency
    //      int maxFreq = 0;
    //      for (auto &p : freq)
    //          maxFreq = max(maxFreq, p.second);
    //      int result;
    //      if (maxFreq <= n / 2)
    //      {
    //          result = n % 2;
    //      }
    //      else
    //      {
    //          result = 2 * maxFreq - n;
    //      }
    //      cout << result << "\n";
    //  }

    return 0;
}

// üî∑ Case 1: ‡¶Ø‡¶ñ‡¶® maxFreq <= n/2

// ‡¶Æ‡¶æ‡¶®‡ßá ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‚Äî
// ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶¨‡ßá‡¶∂‡¶ø ‡¶Ø‡ßá‡¶á ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶Ü‡¶õ‡ßá, ‡¶∏‡ßá‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶ì ‡¶Ö‡¶∞‡ßç‡¶ß‡ßá‡¶ï ‡¶¨‡¶æ ‡¶§‡¶æ‡¶∞ ‡¶ï‡¶Æ‡•§

// üëâ ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶¨‡ßá‡¶∂‡¶ø ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶™‡¶æ‡¶∂‡ßá ‡¶è‡¶ï‡¶ü‡¶æ ‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßá ‡¶™‡¶æ‡¶¨‡ßá pair ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡•§

// ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:
// a = [1,2,3,4,5,6]
// ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡¶¨ ‡¶≠‡¶ø‡¶®‡ßç‡¶® ‚Äî maxFreq = 1, n/2 = 3
// ‡¶§‡ßÅ‡¶Æ‡¶ø pair ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßã:
// (1,2), (3,4), (5,6)
// ‡¶∏‡¶¨ ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá ‚Üí remaining = 0.

// ‡¶Ü‡¶∞ ‡¶Ø‡¶¶‡¶ø n odd ‡¶π‡ßü, ‡¶Ø‡ßá‡¶Æ‡¶®:
// a = [1,2,3]
// ‡¶è‡¶ï‡¶ü‡¶æ unmatched (‡¶Ø‡ßá‡¶Æ‡¶® 3) ‡¶•‡ßá‡¶ï‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá ‚Üí remaining = 1.

// üî∑ Case 2: ‡¶Ø‡¶ñ‡¶® maxFreq > n/2

// ‡¶Æ‡¶æ‡¶®‡ßá ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‚Äî
// ‡¶è‡¶ï‡¶ü‡¶æ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶è‡¶§ ‡¶¨‡ßá‡¶∂‡¶ø ‡¶è‡¶∏‡ßá‡¶õ‡ßá ‡¶Ø‡ßá,
// ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá pair ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡ßã‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶ï‡¶Æ‡ßá ‡¶ó‡ßá‡¶õ‡ßá‡•§

// ‡¶§‡¶æ‡¶π‡¶≤‡ßá:

// ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¨‡¶æ‡¶∞ maxFreq ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶æ element ‡¶Ü‡¶∞ others ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶æ element pair ‡¶ï‡¶∞‡ßá ‡¶¨‡¶æ‡¶¶ ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡•§

// ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶è‡¶ï‡¶∏‡¶Æ‡ßü others ‡¶∂‡ßá‡¶∑ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§

// ‡¶§‡¶ñ‡¶® maxFreq ‡¶è‡¶∞ ‡¶ï‡¶ø‡¶õ‡ßÅ elements unmatched ‡¶•‡ßá‡¶ï‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§

// | ‡¶™‡¶∞‡¶ø‡¶∏‡ßç‡¶•‡¶ø‡¶§‡¶ø                                                      | ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ                                                      | formula         |
// | ------------------------------------------------------------ | --------------------------------------------------------- | --------------- |
// | ‡ßß. ‡¶Ø‡¶ñ‡¶® ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶ó‡ßÅ‡¶≤‡¶æ balance ‡¶Ü‡¶õ‡ßá (‡¶∏‡¶¨‡¶æ‡¶á ‡¶™‡ßç‡¶∞‡¶æ‡ßü ‡¶∏‡¶Æ‡¶æ‡¶® ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡ßü ‡¶Ü‡¶õ‡ßá)    | ‡¶∏‡¶¨ pair ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá, ‡¶∂‡ßÅ‡¶ß‡ßÅ parity ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ ‡ß¶ ‡¶¨‡¶æ ‡ßß‡¶ü‡¶æ ‡¶•‡¶æ‡¶ï‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá    | `n % 2`         |
// | ‡ß®Ô∏è. ‡¶Ø‡¶ñ‡¶® ‡¶è‡¶ï‡¶ü‡¶æ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶Ö‡¶®‡ßá‡¶ï ‡¶¨‡ßá‡¶∂‡¶ø ‡¶è‡¶∏‡ßá‡¶õ‡ßá (majority element)       | ‡¶Ö‡¶®‡ßç‡¶Ø‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∂‡ßá‡¶∑ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá, ‡¶ï‡¶ø‡¶õ‡ßÅ majority ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶•‡¶æ‡¶ï‡¶¨‡ßá            | `2*maxFreq - n` |

// ‡¶ß‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶ï:

// ‡¶≤‡¶æ‡¶≤ ‡¶¨‡¶≤‡ßá‡¶∞ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶¨‡ßá‡¶∂‡¶ø = maxFreq

// ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶¨‡¶≤‡ßá‡¶∞ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶ï‡¶Æ = n - maxFreq

// ‡¶§‡ßÅ‡¶Æ‡¶ø pair ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶Ø‡¶§‡¶¨‡¶æ‡¶∞ ‚Äú‡¶Ö‡¶®‡ßç‡¶Ø ‡¶¨‡¶≤‚Äù ‡¶Ü‡¶õ‡ßá ‡¶§‡¶§‡¶¨‡¶æ‡¶∞ ‚Äî
// ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶¨‡¶≤‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶≤‡¶æ‡¶≤ ‡¶¨‡¶≤ ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßã‡•§

// ‡¶§‡¶æ‡¶π‡¶≤‡ßá pair ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá (n - maxFreq) ‡¶¨‡¶æ‡¶∞‡•§

// ‡¶™‡ßç‡¶∞‡¶§‡¶ø pair-‡¶è ‡ß®‡¶ü‡¶æ ‡¶¨‡¶≤ ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡ßü‡•§
// ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶Æ‡ßã‡¶ü ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶¨‡¶≤ = 2 * (n - maxFreq)‡•§

// üîπ ‡¶è‡¶ñ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ó‡ßá ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶¨‡¶≤ ‡¶ï‡¶§?

// ‡¶Æ‡ßã‡¶ü ‡¶õ‡¶ø‡¶≤ n ‡¶ü‡¶æ ‡¶¨‡¶≤‡•§
// ‡¶´‡ßá‡¶≤‡ßá ‡¶¶‡¶ø‡ßü‡ßá‡¶õ‡ßã 2*(n - maxFreq) ‡¶ü‡¶æ ‡¶¨‡¶≤‡•§

// ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶•‡¶æ‡¶ï‡¶¨‡ßá:remaining = n - 2*(n - maxFreq)
// ‡¶è‡¶ñ‡¶® ‡¶è‡¶á‡¶ü‡¶æ‡¶ï‡ßá ‡¶∏‡¶∞‡¶≤ ‡¶ï‡¶∞‡¶ø (simplify ‡¶ï‡¶∞‡¶ø):
// remaining = n - 2n + 2*maxFreq
// remaining = 2*maxFreq - n

// üîπ ‡¶è‡¶ñ‡¶® ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ ‡¶¶‡¶ø‡¶á

// ‡¶ß‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶ï n = 7,
// ‡¶Ü‡¶∞ ‡¶≤‡¶æ‡¶≤ ‡¶¨‡¶≤ ‡¶Ü‡¶õ‡ßá maxFreq = 5 ‡¶ü‡¶æ,
// ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶¨‡¶≤ ‡ß®‡¶ü‡¶æ‡•§

// ‡¶§‡ßÅ‡¶Æ‡¶ø pair ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡ß® ‡¶¨‡¶æ‡¶∞ (‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶¨‡¶æ‡¶∞ ‡ßß‡¶ü‡¶æ ‡¶≤‡¶æ‡¶≤ + ‡ßß‡¶ü‡¶æ ‡¶Ö‡¶®‡ßç‡¶Ø)‡•§
// ‡¶è‡¶á ‡ß®‡¶ü‡¶æ pair-‡¶è ‡ß™‡¶ü‡¶æ ‡¶¨‡¶≤ ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§

// ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶•‡¶æ‡¶ï‡¶¨‡ßá 7 - 4 = 3 ‡¶ü‡¶æ ‡¶¨‡¶≤‡•§
// ‡¶´‡¶∞‡ßç‡¶Æ‡ßÅ‡¶≤‡¶æ‡ßü ‡¶¨‡¶∏‡¶æ‡¶ì: 2*maxFreq - n = 2*5 - 7 = 10 - 7 = 3 ‚úÖ

// ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¨‡¶æ‡¶∏‡ßç‡¶§‡¶¨ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ (‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶ñ‡ßá ‡¶®‡ßá‡¶ì‡ßü‡¶æ)

// a = [1,6,1,1,4,4], n=6, maxFreq=3 ‚Üí maxFreq <= 3 (n/2=3) ‚Üí result = 6%2 = 0

// a = [1,2], n=2, maxFreq=1 ‚Üí result = 0

// a = [1,1], n=2, maxFreq=2 ‚Üí maxFreq > n/2 ‚Üí result = 2*2 - 2 = 2

// a = [4,5,4,5,4], n=5, maxFreq=3 ‚Üí maxFreq > n/2 (since n/2 = 2) ‚Üí result = 6 - 5 = 1

// ‚Äîall match expected.